#### 4.9

- 考核任务刚发下来，看了要求实现的功能，大概了解了下按照什么顺序学，确定的是先把js基础学好，包括DOM和BOM的基础操作。接着学ajax，这部分是关键……二轮相对一轮增加的功能很多就是需要ajax的。在此之前要稍微了解一下http协议和github。http协议应该是让我学ajax的时候不会那么吃力，以免一些函数参数看不懂(?)，git暂时还不知道要学到什么水平。另外我发现页面自适应需要大量使用flex。一轮虽然我用了少量flex，但整体上还是用最基础的布局方式（浮动定位），布局容易崩。不利于页面自适应。

#### 4.10

- 趁着今天周日，学了下DOM,了解获取元素、注册事件的概念，以及如何利用DOM操作元素、修改元素属性及样式。包括获取元素的各种方式及细节、常见鼠标事件及innerText与innerHTML、循环精灵图的做法。这部分不算难，对我来说主要是新颖，因为之前真没接触过这些。在想着一轮那些做不出的效果也终于能用js实现了。
- 和舍友聊到利用css和js实现同一个效果的区别。发现css实现的效果很多时候甚至比用js还好，js会出现卡顿的感觉，css反而更为平滑。这是什么原因呢？不过话虽如此，二轮的项目我还是会多用js去实现，弥补一轮纯css的尴尬，也能在应用中体验二者效果上的差异，今后也能面对不同场景选择不同的实现方法。

#### 4.11

- 周一满课，实在是没能拿出时间紧紧追上进度。晚上学了排他思想，感觉这个思想在很多实现上都能看到运用的地方。即先让所有样式变成默认，再让指定元素更改样式。主要在面对很多item的时候，如果用js实现，难免会用到这个做法。
- 另外还学了自定义属性的设置和移除。自定义属性主要为了保存、使用数据，其保存到页面中而非数据库。设置的话可以用element.属性=值或者element.setAttribute('属性','值')。前者用以设置自带属性，后者更针对自定义属性。移除属性用element.removeAttribute('属性')。H5的自定义属性以data-开头，相应的以element.dataset.'属性'获取。

#### 4.12

- 还是在学DOM。今天认识了新的操作元素方式节点操作以及事件高级的部分内容。DOM提供的获取元素的方法逻辑性较低也比较繁琐。可以利用节点层级关系（父子兄）获取元素，这样逻辑性更强（但是兼容性不太行）。因为节点不仅仅是标签，还可以是换行、空格等，为此可以封装一个函数，用以获取下一个兄弟元素节点（循环判断兄弟节点类型是否为1）。
- 以及创建、添加、删除和复制节点。一般创建节点是根据需求动态生成，添加节点即为把某节点添加到指定父节点的子节点列表末尾(appendChild)或某子节点前(insertBefore)。复制节点分为浅拷贝和深拷贝，区别在于是否克隆其子节点内容。注意复制完也要添加到指定位置！
- ！对此便完成了DOM操作中对元素增删查改的学习。其中有些DOM的方法以及在某方面稍微高级些的方法，但基本是以兼容性为代价。兼容性在真正开发里其实是不可不考虑的因素，优先度甚至大于用户体验，关系到效果能不能呈现。
- 注册事件和删除事件均分为传统方式和方法监听注册事件方式。同样的，前者具有唯一性，即同一个元素同一个事件只能有同一个处理函数，写多的话后面的也会覆盖前面的。但是方法监听的话同一个元素同一个事件可以注册多个监听器，相对更全面。

#### 4.13

- 今天课也是比较满，只学了DOM事件流，事件对象，事件委托。在这里稍微记录下学习的重点。
- DOM事件流其实很影响事件发生和元素节点间的关系、顺序和效果，实际开发里难免容易被忽视。主要了解了冒泡和捕获的机制（其实主要的都是冒泡）。事件对象针对function()中括号的内容，更要区分e.target和this的指向区别（触发事件的对象、绑定事件的对象）。事件委托其实是为了提高性能，把事件监听器挂在父节点上，用冒泡影响子节点。

#### 4.14

- 又是满课……碍于进度问题，只能抓紧零碎时间学BOM了。昨天基本是把DOM基础操作以及相对原理的东西学完了。今天学BOM倒相对轻松，其实自我感觉和DOM差别不是很大，只不过对象变成了浏览器。只不过还没太搞懂js执行机制里同步、异步的概念，定时器局限于直到最常见的使用场景（我感觉定时器的用法肯定不止基本的，应该可以很灵活）现在也是了解的多，用的确少。怕到时候上手项目的时候太多地方卡壳或者没思路。
- 其实js对我的冲击挺大的，但是一想确也只是那一回事。现在的程度就是掌握DOM BOM操作的几个步骤，就能实现对元素的操控了，要再多加注意的便是细节问题，比如机制的影响，各种方法的使用细节和局限性，到最后再考虑使用更巧妙的方法进行性能优化，让js代码不过于冗余反而更优雅。

#### 4.15

- 其实我打算学的差不多了再来做项目的。这里想说明一下其实我是怕后边有什么更简便巧妙的方法，反而让我花了过多时间在前头琢磨令人费解头大的问题。再其次，后边的应用也能让我提前有个预热，面对网页效果更能会想起实现方法。
- 但是内心有一点碍于周末的进度分享，我觉得还是做些什么。所以在上午学了动画的基本实现后，便开始着手搭建项目的基本骨架HTML、CSS部分了。在这里记录遇到的难点、实现方法以及待处理的问题。
- 考核要求其实可以自己设计，没必要完全模仿qq音乐。我倒想可能在播放器那再发挥创造力。首页这部分因为很多模块骨架重复的原因，我挑了导航栏（这个没办法也必须要实现）以及第一个轮播图去模仿实现。
- 头部导航栏其实很容易实现，无非是几个盒子固定好位置再写它们的样式便可。在这里分享下五个item那里鼠标移动，就会有个跟随的盒子的实现方法。其实就是获取鼠标在可视区的位置坐标，再求出有定位的父级盒子的左边距。注册鼠标经过事件，让盒子里的内容为item的内容即可。再注册鼠标移出事件，让盒子消失。不过完成初期出现了卡顿的问题，不丝滑……其实我的这个和官网的还是有差异的，官网是鼠标停下才会显示，移动的时候不显示。好像没有这个事件。这个问题待解决。

#### 4.16

- 今天继续实现头部导航栏以及轮播图。小tab栏的六个item其实也很好实现。不过经过效果我用js实现的，先用了用排他。不过注意每个item也有样式，循环的时候不能清空它们的类，而应该赋予默认样式，出循环再让当前元素的类为指定特殊类。
- 其实一直觉得轮播图对我来说挺难做的，不论是用css还是js，实现的要求太多，考验我对变量的控制，属性的理解以及相互搭配。一轮的轮播图虽然说在考核结束后用纯css重新优化后实现了，但总归是个遗憾。所以这次我计划拿两三天时间来实现这个大模块。下午先搭好了主要的结构以及两个按钮的实现。
- 按钮其实挺奇怪的，原效果其实有个渐变的过程，不论是移动、显示隐藏还是颜色的变化。为此我用了新属性opacity，用以进行属性的渐变。让左右按钮的变化更自然丝滑。其实这里也可以用js实现，封装一个动画函数，传入对象，目标位置，opacity等，但碍于头一次用这个属性，所以还是用css实现渐变效果了。另外我发现按钮隐藏后占位置了，因为隐藏的时候他在可视区外边，所以会出现滚动条。不论用绝对定位还是tranform。这个问题也有待解决。
- 至于轮播图，其实移动的是大轮播盒子而非当前页面宽度的盒子，只是溢出被隐藏了。移动靠的是轮播大盒子的left属性，故应该给他加上定位。它的父盒子也要加上定位，左边、上边重合，这样left才是从0开始往正往负的算。
- 先完成点击圆点实现轮播的功能。因为移动的距离为每个轮播区域宽度乘以一个数。故每个圆点都应该有一个值为这个数的属性。使用设置属性的方法，给每个圆点设定自定义属性data-index，并依次拿到0、1、2的值，绑定点击事件，点击哪一个就用data-index值乘以轮播区域宽度即可。
- 这里注意按钮和圆点是同步的、相互影响的，为了确保轮播图轮播距离的统一，需要把data-index的值给左按钮、右按钮。
- 接下来麻烦的就是左右按钮点击次数与轮播距离的控制，假定分别给左按钮和右按钮一个控制的值，如何控制轮播图何时走到最后一个item以及走到后接下来的动向？这个时候需要调整控制值的值，让他一直处于某个范围内。
- 另外点击左右按钮也会改变圆点样式，故把圆点样式变化封装为一个函数。动画也会被多次调用，也封装为一个函数。

#### 	4.17

- 上午在准备下午的选修考试，不过空闲的时候想了想怎么优化轮播图。刚想起一个可优化的地方：轮播图节流。我的想法是在动画执行完成后再执行按钮或圆点切换，这就需要对动画函数进行修改，利用sign标记变量在合适的地方改变其布尔值，再完成注册函数的完整执行。具体可行与否以及可能出现什么问题再细看。
